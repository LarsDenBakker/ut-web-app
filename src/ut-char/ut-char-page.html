<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/app-route/app-route.html">
<link rel="import" href="ut-char-list.html">
<link rel="import" href="ut-char-card.html">
<link rel="import" href="ut-char-editor.html">

<dom-module id="ut-char-page">
    <template>

        <app-route
                route="{{route}}"
                pattern="/edit/:index"
                data="{{editRouteData}}"
                active="{{editSelected}}">
        </app-route>

        <app-route
                route="{{route}}"
                pattern="/view/:index"
                data="{{viewRouteData}}"
                active="{{viewSelected}}">
        </app-route>

        <iron-pages selected="{{selected}}" attr-for-selected="name" fallback-selection="list">
            <ut-char-list name="list"></ut-char-list>
            <ut-char-card name="view" char-id="{{viewRouteData.index}}"></ut-char-card>
            <ut-char-editor name="edit" char-id="{{editRouteData.index}}"></ut-char-editor>
        </iron-pages>

    </template>
    <script>
        Polymer({
            is: 'ut-char-page',
            properties: {
                selected: {
                    type: String,
                    computed: '_computeSelected(editSelected, viewSelected)'
                }
            },
            _computeSelected: function (editSelected, viewSelected) {
                return (editSelected) ? 'edit' : (viewSelected) ? 'view' : undefined;
            }
        })
    </script>

</dom-module>